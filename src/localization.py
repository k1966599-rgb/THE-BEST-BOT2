# -*- coding: utf-8 -*-

TEXTS = {
    'ar': {
        # --- Main Report Structure ---
        "report_title": "๐ **ุงูุชุญููู ุงูุงุณุชุฑุงุชูุฌู ุงูุดุงูู ูู {symbol} | ุฅุทุงุฑ {timeframe}**",
        "report_updated_at": "*ุจุชุงุฑูุฎ: {date} | ุงูุณุงุนุฉ: {time}*",
        "disclaimer": "*ุชุญููู ุขููุ ููุณ ุชูุตูุฉ ุงุณุชุซูุงุฑูุฉ ูุจุงุดุฑุฉ.*",

        # --- Section 1: Executive Summary ---
        "section_summary_title": "--- 1. ุงูุฎูุงุตุฉ ุงูุชูููุฐูุฉ ---",
        "summary_signal": "ุงูุฅุดุงุฑุฉ ุงูุญุงููุฉ",
        "summary_conclusion": "ุงูุฎูุงุตุฉ",
        "summary_key_level": "ุฃูู ูุณุชูู ูููุฑุงูุจุฉ",

        # --- Section 2: Trade/Monitoring Plan ---
        "section_trade_plan_title": "--- 2. ุฎุทุฉ ุงูุชุฏุงูู ุงูููุชุฑุญุฉ ---",
        "trade_logic": "ููุทู ุงูุตููุฉ",
        "trade_risk_assessment": "ุชูููู ุงููุฎุงุทุฑ",
        "risk_to_reward": "ุงููุฎุงุทุฑุฉ/ุงูุนุงุฆุฏ (ูููุฏู ุงูุฃูู)",
        "confidence": "ูุณุชูู ุงูุซูุฉ",
        "entry_zone": "ููุทูุฉ ุงูุฏุฎูู",
        "best_entry": "ุฃูุถู ุณุนุฑ ููุฏุฎูู",
        "stop_loss": "ููู ุงูุฎุณุงุฑุฉ (SL)",
        "targets": "ุงูุฃูุฏุงู (TP)",

        "section_monitoring_plan_title": "--- 2. ุฎุทุฉ ุงููุฑุงูุจุฉ ---",
        "monitoring_conclusion": "ุงูุฎูุงุตุฉ",
        "monitoring_activation_condition": "ุดุฑุท ุงูุชูุนูู",
        "monitoring_expected_targets": "ุงูุฃูุฏุงู ุงููุชููุนุฉ",

        # --- Section 3: Technical Analysis Details ---
        "section_analysis_details_title": "--- 3. ุชูุงุตูู ุงูุชุญููู ุงูููู ---",
        "details_market_structure": "ูููู ุงูุณูู",
        "details_current_trend": "ุงูุงุชุฌุงู ุงูุญุงูู ({timeframe})",
        "details_general_trend": "ุงูุงุชุฌุงู ุงูุนุงู ({timeframe_parent})",
        "details_swing_high": "ุงูููุฉ ุงููุฑุฌุนูุฉ",
        "details_swing_low": "ุงููุงุน ุงููุฑุฌุนู",
        "details_indicators_reading": "ูุฑุงุกุฉ ุงููุคุดุฑุงุช",
        "details_trend_strength": "ููุฉ ุงูุงุชุฌุงู (ADX)",
        "details_momentum": "ุงูุฒุฎู (RSI)",
        "details_macd": "ุงูุชูุงุฑุจ ูุงูุชุจุงุนุฏ (MACD)",
        "details_confirmation_score": "ููุงุท ุงูููุฉ",
        "details_no_strength_reasons": "ูุง ุชูุฌุฏ ููุงุท ููุฉ ุฅุถุงููุฉ ุญุงูููุง.",
        "details_alternative_scenario": "ุงูุณููุงุฑูู ุงูุจุฏูู ูุฅูุบุงุก ุงูููุฑุฉ",
        "details_cancellation_condition": "ุชููุบู ููุฑุฉ {signal_type} ุจูุณุฑ ููู ุงูุฎุณุงุฑุฉ ุนูุฏ {stop_loss}ุ ููุฏ ูุชุฌู ุงูุณุนุฑ ุจุนุฏูุง ูุงุฎุชุจุงุฑ ููุงุทู ุฃุฏูู.",

        # --- Section 4: Support & Resistance ---
        "section_support_resistance_title": "--- 4. ูุณุชููุงุช ุงูุฏุนู ูุงูููุงููุฉ ---",
        "sr_resistance": "ููุงููุฉ",
        "sr_support": "ุฏุนู",

        # --- General Terms ---
        "signal_buy": "ุดุฑุงุก",
        "signal_sell": "ุจูุน",
        "signal_hold": "ุญูุงุฏ",
        "trend_up": "ุตุงุนุฏ",
        "trend_down": "ูุงุจุท",
        "trend_sideways": "ุนุฑุถู",
        "macd_positive": "ุชูุงุทุน ุฅูุฌุงุจู",
        "macd_negative": "ุชูุงุทุน ุณูุจู",
        "strong_trend": "ุงุชุฌุงู ููู",
        "positive_momentum": "ุฒุฎู ุฅูุฌุงุจู",
        "negative_momentum": "ุฒุฎู ุณูุจู",
        "compatible": "ูุชูุงูู",

        # --- Analysis Reasons & Conclusions (from FiboAnalyzer) ---
        "reason_rsi_confirm_up": "ูุคุดุฑ ุงูููุฉ ุงููุณุจูุฉ ููู 50 (ุงููููุฉ: {value})",
        "reason_macd_confirm_up": "ุชูุงุทุน MACD ุฅูุฌุงุจู",
        "reason_stoch_confirm_up": "ูุคุดุฑ ุณุชููุงุณุชูู ูุธูุฑ ุงูุนูุงุณูุง ูู ุงูุชุดุจุน ุงูุจูุนู",
        "reason_pattern_confirm_up": "ูููุฐุฌ ุงูุนูุงุณู ุตุงุนุฏ: {pattern}",
        "reason_rsi_confirm_down": "ูุคุดุฑ ุงูููุฉ ุงููุณุจูุฉ ุชุญุช 50 (ุงููููุฉ: {value})",
        "reason_macd_confirm_down": "ุชูุงุทุน MACD ุณูุจู",
        "reason_stoch_confirm_down": "ูุคุดุฑ ุณุชููุงุณุชูู ูุธูุฑ ุงูุนูุงุณูุง ูู ุงูุชุดุจุน ุงูุดุฑุงุฆู",
        "reason_pattern_confirm_down": "ูููุฐุฌ ุงูุนูุงุณู ูุงุจุท: {pattern}",
        "reason_volume_confirm_up": "ุชุฃููุฏ ุทูุฑุฉ ุญุฌู ุชุฏุงูู ุตุงุนุฏุฉ",
        "reason_volume_confirm_down": "ุชุฃููุฏ ุทูุฑุฉ ุญุฌู ุชุฏุงูู ูุงุจุทุฉ",

        "final_reason_signal_confirmed": "ุจูุงุกู ุนูู {score} ููุทุฉ ููุฉ ูุน ุงุชุฌุงู {trend} ูุคูุฏ.",
        "final_reason_score_met_adx_weak": "ุชู ุชุญููู ุงูููุงุท ุงููุทููุจุฉ ููู ููุฉ ุงูุงุชุฌุงู ุถุนููุฉ (ADX: {adx})",
        "final_reason_score_not_met": "ูู ูุชู ุชุญููู ุงูุญุฏ ุงูุฃุฏูู ูู ููุงุท ุงูููุฉ ({score}/{threshold})ุ ูุฐุง ูุชู ุงูุชุธุงุฑ ุฅุดุงุฑุฉ ุฃูุถุญ.",
        "final_reason_mta_override": "ุชู ุชุนููู ุฅุดุงุฑุฉ {original_signal} ุจุณุจุจ ุชุนุงุฑุถูุง ูุน ุงูุงุชุฌุงู ุงูุนุงู ุงููุงุจุท ุนูู ุฅุทุงุฑ {higher_tf}.",

        "scenario_title_up_primary": "ุงูุณููุงุฑูู ุงูุตุงุนุฏ ุงูุฃุณุงุณู",
        "scenario_title_up_secondary": "ุงูุณููุงุฑูู ุงููุงุจุท ุงูุจุฏูู",
        "scenario_title_down_primary": "ุงูุณููุงุฑูู ุงููุงุจุท ุงูุฃุณุงุณู",
        "scenario_title_down_secondary": "ุงูุณููุงุฑูู ุงูุตุงุนุฏ ุงูุจุฏูู",
        "scenario_title_up_primary_hold": "ุงูุณููุงุฑูู ุงูุตุงุนุฏ ุงููุญุชูู",
        "scenario_title_up_secondary_hold": "ุงูุณููุงุฑูู ุงููุงุจุท ุงููุญุชูู",
        "scenario_title_down_primary_hold": "ุงูุณููุงุฑูู ุงููุงุจุท ุงููุญุชูู",
        "scenario_title_down_secondary_hold": "ุงูุณููุงุฑูู ุงูุตุงุนุฏ ุงููุญุชูู",

        # --- Error Messages ---
        "error_no_valid_swings": "ุชุนุฐุฑ ุชุญุฏูุฏ ููู ูููุนุงู ูุงุถุญุฉ ููุชุญููู. ูุฑุฌู ุชุฌุฑุจุฉ ุฅุทุงุฑ ุฒููู ูุฎุชูู.",
        "error_not_enough_data_detailed": "ูุง ุชูุฌุฏ ุจูุงูุงุช ูุงููุฉ ูู {symbol} ุนูู ุฅุทุงุฑ {timeframe}. (ูุทููุจ: {required}, ูุชุงุญ: {available})",
        "error_not_enough_historical_data": "ูุง ุชูุฌุฏ ุจูุงูุงุช ุชุงุฑูุฎูุฉ ูุงููุฉ ูู {symbol} ุนูู ุฅุทุงุฑ {timeframe}.",
        "error_api_connection": "ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุงูุงุชุตุงู ุจูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช. ูุฑุฌู ุงููุญุงููุฉ ูุฑุฉ ุฃุฎุฑู ูุงุญููุง.",
        "error_generic": "ุญุฏุซ ุฎุทุฃ ุบูุฑ ูุชููุน. ูุฑุฌู ุงููุญุงููุฉ ูุฑุฉ ุฃุฎุฑู.",
        "error_config_timeframes": "ุฎุทุฃ ูู ุงูุฅุนุฏุงุฏุงุช: ูู ูุชู ุงูุนุซูุฑ ุนูู ุฃุทุฑ ุฒูููุฉ ูููุฏู ุงููุญุฏุฏ.",
        "error_no_token": "ุฎุทุฃ ูุงุฏุญ: ุฑูุฒ ุจูุช ุชููุฌุฑุงู ุบูุฑ ููุฌูุฏ ูู ุงูุฅุนุฏุงุฏุงุช.",

        # --- UI Buttons ---
        "button_analyze": "ุชุญููู",
        "button_bot_status": "ูุชุงุจุนุฉ ุงูุชุญููู",
        "button_back_to_main": "ุงูุนูุฏุฉ ูููุงุฆูุฉ ุงูุฑุฆูุณูุฉ",
        "button_back": "ุฑุฌูุน",
        "button_long_term": "ุทููู",
        "button_medium_term": "ูุชูุณุท",
        "button_short_term": "ูุตูุฑ",

        # --- UI Messages ---
        "start_header": "",
        "bot_status_ok": "ูุนูู",
        "bot_status_periodic_disabled": "ูุชุงุจุนุฉ ุงูุชุญููู: ูุนุทูุฉ ุญุงูููุง.",
        "ask_symbol": "ุงุฎุชุฑ ุงูุนููุฉ ุงูุชู ุชุฑูุฏ ุชุญููููุง:",
        "ask_term": "ุงุฎุชุฑ ุงููุฏู ุงูุฒููู ููุชุญููู ูู {symbol}:",
        "ask_timeframe": "ุงุฎุชุฑ ุงูุฅุทุงุฑ ุงูุฒููู ููุชุญููู ุนูู {term}:",

        # --- Process/Log Messages ---
        "fetching_parent_data": "ุฌุงุฑู ุฌูุจ ุจูุงูุงุช ุงูุฅุทุงุฑ ุงูุฒููู ุงูุฃุนูู ({timeframe})...",
        "fetching_data": "ุฌุงุฑู ุฌูุจ ุงูุจูุงูุงุช ูู {symbol} ุนูู ุฅุทุงุฑ {timeframe}...",
        "analysis_running": "ุฌุงุฑู ุฅุฌุฑุงุก ุงูุชุญููู ูู {symbol} ุนูู ุฅุทุงุฑ {timeframe}...",
        "chart_generating": "ุฌุงุฑู ุฅูุดุงุก ุงูุฑุณู ุงูุจูุงูู...",
        "warning_no_admin_id": "ุชุญุฐูุฑ: ูุนุฑู ุงููุดุฑู ุบูุฑ ูุญุฏุฏุ ูู ูุชู ุฅุฑุณุงู ุงูุชูุจููุงุช ุงูุฏูุฑูุฉ.",
        "periodic_start_log": "ุจุฏุก ูููุฉ ุงูุชุญููู ุงูุฏูุฑู ูู {count} ุนููุฉ.",
        "periodic_sent_alert_log": "ุชู ุฅุฑุณุงู ุชูุจูู {signal} ูู {symbol} ุนูู ุฅุทุงุฑ {timeframe}.",
        "periodic_end_log": "ุงูุชููุช ูููุฉ ุงูุชุญููู ุงูุฏูุฑู.",
        "scheduler_disabled_log": "ุงูุฌุฏููุฉ ุงูุฏูุฑูุฉ ูุนุทูุฉ ูู ุงูุฅุนุฏุงุฏุงุช.",
        "bot_starting_log": "ุงูุจูุช ููุฏ ุงูุชุดุบูู..."
    },
    'en': {
        # --- Main Report Structure ---
        "report_title": "๐ **Comprehensive Strategic Analysis for {symbol} | {timeframe}**",
        "report_updated_at": "*Date: {date} | Time: {time}*",
        "disclaimer": "*Automated analysis, not direct investment advice.*",

        # --- Section 1: Executive Summary ---
        "section_summary_title": "--- 1. Executive Summary ---",
        "summary_signal": "Current Signal",
        "summary_conclusion": "Conclusion",
        "summary_key_level": "Key Level to Watch",

        # --- Section 2: Trade/Monitoring Plan ---
        "section_trade_plan_title": "--- 2. Suggested Trade Plan ---",
        "trade_logic": "Trade Rationale",
        "trade_risk_assessment": "Risk Assessment",
        "risk_to_reward": "Risk/Reward Ratio (for TP1)",
        "confidence": "Confidence Level",
        "entry_zone": "Entry Zone",
        "best_entry": "Best Entry Price",
        "stop_loss": "Stop Loss (SL)",
        "targets": "Targets (TP)",

        "section_monitoring_plan_title": "--- 2. Monitoring Plan ---",
        "monitoring_conclusion": "Conclusion",
        "monitoring_activation_condition": "Activation Condition",
        "monitoring_expected_targets": "Expected Targets",

        # --- Section 3: Technical Analysis Details ---
        "section_analysis_details_title": "--- 3. Technical Analysis Details ---",
        "details_market_structure": "Market Structure",
        "details_current_trend": "Current Trend ({timeframe})",
        "details_general_trend": "General Trend ({timeframe_parent})",
        "details_swing_high": "Swing High",
        "details_swing_low": "Swing Low",
        "details_indicators_reading": "Indicators Reading",
        "details_trend_strength": "Trend Strength (ADX)",
        "details_momentum": "Momentum (RSI)",
        "details_macd": "Convergence/Divergence (MACD)",
        "details_confirmation_score": "Strength Score",
        "details_no_strength_reasons": "No additional strength indicators are currently present.",
        "details_alternative_scenario": "Alternative Scenario & Invalidation",
        "details_cancellation_condition": "The {signal_type} idea is invalidated if the stop loss at {stop_loss} is breached, after which the price may test lower levels.",

        # --- Section 4: Support & Resistance ---
        "section_support_resistance_title": "--- 4. Key Support & Resistance Levels ---",
        "sr_resistance": "Resistance",
        "sr_support": "Support",

        # --- General Terms ---
        "signal_buy": "Buy",
        "signal_sell": "Sell",
        "signal_hold": "Hold",
        "trend_up": "Upward",
        "trend_down": "Downward",
        "trend_sideways": "Sideways",
        "macd_positive": "Positive Crossover",
        "macd_negative": "Negative Crossover",
        "strong_trend": "Strong Trend",
        "positive_momentum": "Positive Momentum",
        "negative_momentum": "Negative Momentum",
        "compatible": "Compatible",

        # --- Analysis Reasons & Conclusions (from FiboAnalyzer) ---
        "reason_rsi_confirm_up": "RSI is above 50 (Value: {value})",
        "reason_macd_confirm_up": "Positive MACD Crossover",
        "reason_stoch_confirm_up": "Stochastic shows reversal from oversold",
        "reason_pattern_confirm_up": "Bullish reversal pattern: {pattern}",
        "reason_rsi_confirm_down": "RSI is below 50 (Value: {value})",
        "reason_macd_confirm_down": "Negative MACD Crossover",
        "reason_stoch_confirm_down": "Stochastic shows reversal from overbought",
        "reason_pattern_confirm_down": "Bearish reversal pattern: {pattern}",
        "reason_volume_confirm_up": "Bullish volume spike confirmed",
        "reason_volume_confirm_down": "Bearish volume spike confirmed",

        "final_reason_signal_confirmed": "Based on {score} strength points with a confirmed {trend} trend.",
        "final_reason_score_met_adx_weak": "Required score met, but trend strength is weak (ADX: {adx})",
        "final_reason_score_not_met": "Minimum strength score not met ({score}/{threshold}), waiting for a clearer signal.",
        "final_reason_mta_override": "The {original_signal} signal is suspended due to conflict with the bearish trend on the {higher_tf} timeframe.",

        "scenario_title_up_primary": "Primary Bullish Scenario",
        "scenario_title_up_secondary": "Alternative Bearish Scenario",
        "scenario_title_down_primary": "Primary Bearish Scenario",
        "scenario_title_down_secondary": "Alternative Bullish Scenario",
        "scenario_title_up_primary_hold": "Potential Bullish Scenario",
        "scenario_title_up_secondary_hold": "Potential Bearish Scenario",
        "scenario_title_down_primary_hold": "Potential Bearish Scenario",
        "scenario_title_down_secondary_hold": "Potential Bullish Scenario",

        # --- Error Messages ---
        "error_no_valid_swings": "Could not determine clear swing points for analysis. Please try a different timeframe.",
        "error_not_enough_data_detailed": "Not enough data for {symbol} on {timeframe}. (Required: {required}, Available: {available})",
        "error_not_enough_historical_data": "Not enough historical data for {symbol} on {timeframe}.",
        "error_api_connection": "An error occurred while connecting to the API. Please try again later.",
        "error_generic": "An unexpected error occurred. Please try again.",
        "error_config_timeframes": "Configuration Error: No timeframes found for the selected term.",
        "error_no_token": "Fatal Error: Telegram bot token not found in configuration.",

        # --- UI Buttons ---
        "button_analyze": "Analysis",
        "button_bot_status": "Follow-up Analysis",
        "button_back_to_main": "Back to Main Menu",
        "button_back": "Back",
        "button_long_term": "Long",
        "button_medium_term": "Medium",
        "button_short_term": "Short",

        # --- UI Messages ---
        "start_header": "Welcome to THE BEST BOT",
        "bot_status_ok": "Bot Status: Online.",
        "bot_status_periodic_disabled": "Follow-up analysis is currently disabled.",
        "ask_symbol": "Select the symbol to analyze:",
        "ask_term": "Select the analysis term for {symbol}:",
        "ask_timeframe": "Select the timeframe for analysis on the {term}:",

        # --- Process/Log Messages ---
        "fetching_parent_data": "Fetching parent timeframe data ({timeframe})...",
        "fetching_data": "Fetching data for {symbol} on {timeframe}...",
        "analysis_running": "Running analysis for {symbol} on {timeframe}...",
        "chart_generating": "Generating chart...",
        "warning_no_admin_id": "Warning: Admin chat ID not set, periodic alerts will not be sent.",
        "periodic_start_log": "Starting periodic analysis task for {count} symbols.",
        "periodic_sent_alert_log": "Sent {signal} alert for {symbol} on {timeframe}.",
        "periodic_end_log": "Periodic analysis task completed.",
        "scheduler_disabled_log": "Periodic scheduler is disabled in settings.",
        "bot_starting_log": "Bot is starting..."
    }
}

def get_text(key: str, lang: str = "ar") -> str:
    lang_dict = TEXTS.get(lang, TEXTS.get("ar", {}))
    default_lang_dict = TEXTS.get("ar", {})
    return lang_dict.get(key, default_lang_dict.get(key, f"<{key}_NOT_FOUND>"))