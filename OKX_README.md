# ğŸš€ OKX Data Collector (Python Version)
## Ø¬Ø§Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø© Ù…Ù† Ù…Ù†ØµØ© OKX Ù„Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ù…Ø´ÙØ±Ø©

Ù†Ø¸Ø§Ù… Python Ù…ØªÙ‚Ø¯Ù… Ù„Ø¬Ù…Ø¹ ÙˆØªØ­Ù„ÙŠÙ„ Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ù…Ø´ÙØ±Ø© Ù…Ù† Ù…Ù†ØµØ© OKX Ø¨Ø´ÙƒÙ„ Ù…Ø¨Ø§Ø´Ø± ÙˆÙ…Ø³ØªÙ…Ø±.

---

## âœ¨ Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

- ğŸ“Š **Ø¨ÙŠØ§Ù†Ø§Øª Ø­ÙŠØ© ÙˆÙ…Ø¨Ø§Ø´Ø±Ø©**: Ø§ØªØµØ§Ù„ WebSocket Ù…Ø³ØªÙ…Ø± Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ù„Ø­Ø¸Ø© Ø¨Ù„Ø­Ø¸Ø©
- ğŸ“ˆ **Ø¨ÙŠØ§Ù†Ø§Øª ØªØ§Ø±ÙŠØ®ÙŠØ© Ø´Ø§Ù…Ù„Ø©**: Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø³Ù†Ø© ÙƒØ§Ù…Ù„Ø© Ù…Ø§Ø¶ÙŠØ© Ù„ÙƒÙ„ Ø¹Ù…Ù„Ø©
- ğŸ’¾ **Ø­ÙØ¸ ØªÙ„Ù‚Ø§Ø¦ÙŠ**: ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ù…Ù„ÙØ§Øª JSON Ù…Ù†Ø¸Ù…Ø©
- ğŸ”„ **Ø¥Ø¹Ø§Ø¯Ø© Ø§ØªØµØ§Ù„ ØªÙ„Ù‚Ø§Ø¦ÙŠØ©**: ÙÙŠ Ø­Ø§Ù„Ø© Ø§Ù†Ù‚Ø·Ø§Ø¹ Ø§Ù„Ø§ØªØµØ§Ù„
- ğŸ“± **ÙˆØ§Ø¬Ù‡Ø© terminal Ø¬Ù…ÙŠÙ„Ø©**: Ø¹Ø±Ø¶ Ù…Ø¨Ø§Ø´Ø± ÙŠÙØ­Ø¯Ø« ÙƒÙ„ 30 Ø«Ø§Ù†ÙŠØ©
- ğŸ¯ **ØªØ­Ù„ÙŠÙ„ Ù…ØªÙ‚Ø¯Ù…**: Ø­Ø³Ø§Ø¨ Ø§Ù„Ø§ØªØ¬Ø§Ù‡Ø§ØªØŒ RSIØŒ ÙˆØ¥Ø´Ø§Ø±Ø§Øª Ø§Ù„ØªØ¯Ø§ÙˆÙ„
- âš¡ **Ø£Ø¯Ø§Ø¡ Ø¹Ø§Ù„ÙŠ**: Ù…Ø¹Ø§Ù„Ø¬Ø© Ù…ØªÙˆØ§Ø²ÙŠØ© ÙˆØ°Ø§ÙƒØ±Ø© Ù…Ø­Ø³Ù‘Ù†Ø©

---

## ğŸ“‹ Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…

- Python 3.8+
- Ø§ØªØµØ§Ù„ Ø¥Ù†ØªØ±Ù†Øª Ù…Ø³ØªÙ‚Ø±
- Ù…Ø³Ø§Ø­Ø© ØªØ®Ø²ÙŠÙ† (Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠØ©)

---

## ğŸš€ Ø§Ù„ØªØ«Ø¨ÙŠØª ÙˆØ§Ù„Ø¥Ø¹Ø¯Ø§Ø¯

### 1. ØªØ«Ø¨ÙŠØª Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©

```bash
# ÙÙŠ Ù…Ø¬Ù„Ø¯ THE-BEST-BOT
cd THE-BEST-BOT

# ØªØ«Ø¨ÙŠØª Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
pip install requests websockets pandas python-dateutil ujson numpy

# Ø£Ùˆ ØªØ«Ø¨ÙŠØª Ù…Ù† Ù…Ù„Ù Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª
pip install -r okx_requirements.txt
```

### 2. Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ù„ÙØ§Øª

```bash
# Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
touch okx_data.py
touch run_okx_data.py
touch test_okx_data.py
touch okx_requirements.txt

# Ø§Ù†Ø³Ø® Ù…Ø­ØªÙˆÙ‰ ÙƒÙ„ Ù…Ù„Ù Ù…Ù† Ø§Ù„Ø£Ø¹Ù„Ù‰
```

### 3. Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù…

```bash
# ØªØ´ØºÙŠÙ„ Ø§Ø®ØªØ¨Ø§Ø± Ø´Ø§Ù…Ù„
python test_okx_data.py
```

### 4. Ø§Ù„ØªØ´ØºÙŠÙ„

```bash
# Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¹Ø§Ø¯ÙŠ
python run_okx_data.py

# Ø£Ùˆ ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ© Ù…Ø¹ PM2
pm2 start run_okx_data.py --name okx-collector --interpreter python3
```

---

## ğŸ“ Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹

```
THE-BEST-BOT/
â”œâ”€â”€ okx_data.py              # Ø§Ù„ÙƒÙ„Ø§Ø³ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
â”œâ”€â”€ run_okx_data.py          # Ù…Ù„Ù Ø§Ù„ØªØ´ØºÙŠÙ„
â”œâ”€â”€ test_okx_data.py         # Ù…Ù„Ù Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
â”œâ”€â”€ okx_requirements.txt     # Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ©
â”œâ”€â”€ okx_data/               # Ù…Ø¬Ù„Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (ÙŠÙÙ†Ø´Ø£ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹)
â”‚   â”œâ”€â”€ current_prices.json
â”‚   â”œâ”€â”€ BTC-USDT_historical.json
â”‚   â””â”€â”€ ETH-USDT_historical.json
â””â”€â”€ okx_data.log            # Ù…Ù„Ù Ø§Ù„Ø³Ø¬Ù„Ø§Øª
```

---

## ğŸ’¡ ÙƒÙŠÙÙŠØ© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙÙŠ Ø§Ù„Ø¨ÙˆØª Ø§Ù„Ø­Ø§Ù„ÙŠ

### Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ main_bot.py

```python
from okx_data import OKXDataFetcher

class TradingBot:
    def __init__(self):
        self.okx_fetcher = OKXDataFetcher()

    def start_data_collection(self):
        """Ø¨Ø¯Ø¡ Ø¬Ù…Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª OKX"""
        symbols = ['BTC-USDT', 'ETH-USDT', 'BNB-USDT', 'XRP-USDT']
        self.okx_fetcher.start_full_data_collection(symbols)

    def get_live_price(self, symbol):
        """Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ù…Ø¨Ø§Ø´Ø±"""
        price_data = self.okx_fetcher.get_cached_price(symbol)
        return price_data['price'] if price_data else None

    def get_trading_signal(self, symbol):
        """Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¥Ø´Ø§Ø±Ø§Øª Ø§Ù„ØªØ¯Ø§ÙˆÙ„"""
        signals = self.okx_fetcher.get_trading_signals(symbol)

        for signal in signals['signals']:
            if signal['confidence'] > 70:  # Ø¥Ø´Ø§Ø±Ø§Øª Ù‚ÙˆÙŠØ© ÙÙ‚Ø·
                return {
                    'action': signal['type'],
                    'reason': signal['reason'],
                    'confidence': signal['confidence']
                }
        return None

    def analyze_market_trend(self, symbol):
        """ØªØ­Ù„ÙŠÙ„ Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ø³ÙˆÙ‚"""
        analysis = self.okx_fetcher.analyze_trend(symbol)
        rsi = self.okx_fetcher.calculate_rsi(symbol)

        return {
            'trend': analysis['trend'],
            'confidence': analysis['confidence'],
            'rsi': rsi,
            'recommendation': self._get_recommendation(analysis, rsi)
        }

    def _get_recommendation(self, trend_analysis, rsi):
        """ØªÙ‚Ø¯ÙŠÙ… ØªÙˆØµÙŠØ§Øª Ø¨Ù†Ø§Ø¡ Ø¹Ù„Ù‰ Ø§Ù„ØªØ­Ù„ÙŠÙ„"""
        if rsi and rsi < 30 and trend_analysis['trend'] == 'ØµØ§Ø¹Ø¯':
            return 'Ø´Ø±Ø§Ø¡ Ù‚ÙˆÙŠ - RSI Ù…Ù†Ø®ÙØ¶ ÙˆØ§ØªØ¬Ø§Ù‡ ØµØ§Ø¹Ø¯'
        elif rsi and rsi > 70 and trend_analysis['trend'] == 'Ù‡Ø§Ø¨Ø·':
            return 'Ø¨ÙŠØ¹ Ù‚ÙˆÙŠ - RSI Ù…Ø±ØªÙØ¹ ÙˆØ§ØªØ¬Ø§Ù‡ Ù‡Ø§Ø¨Ø·'
        elif trend_analysis['confidence'] > 70:
            return f'{trend_analysis["trend"]} Ø¨Ø«Ù‚Ø© Ø¹Ø§Ù„ÙŠØ©'
        else:
            return 'Ø§Ù†ØªØ¸Ø§Ø± - Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¥Ø´Ø§Ø±Ø§Øª ÙˆØ§Ø¶Ø­Ø©'
```

### Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ telegram_bot.py

```python
from okx_data import OKXDataFetcher

def setup_okx_commands(bot, okx_fetcher):
    """Ø¥Ø¹Ø¯Ø§Ø¯ Ø£ÙˆØ§Ù…Ø± OKX ÙÙŠ ØªÙ„ÙŠØ¬Ø±Ø§Ù…"""

    @bot.message_handler(commands=['price'])
    def get_price(message):
        try:
            # Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø±Ù…Ø² Ø§Ù„Ø¹Ù…Ù„Ø© Ù…Ù† Ø§Ù„Ø±Ø³Ø§Ù„Ø©
            symbol = message.text.split()[1].upper() + '-USDT'
            price_data = okx_fetcher.get_cached_price(symbol)

            if price_data:
                response = f"""
ğŸª™ **{symbol}**
ğŸ’° Ø§Ù„Ø³Ø¹Ø±: ${price_data['price']:.4f}
ğŸ“Š Ø§Ù„ØªØºÙŠÙŠØ± 24Ø³: {price_data['change_percent']:+.2f}%
ğŸ“ˆ Ø£Ø¹Ù„Ù‰ 24Ø³: ${price_data['high_24h']:.4f}
ğŸ“‰ Ø£Ù‚Ù„ 24Ø³: ${price_data['low_24h']:.4f}
                """
                bot.reply_to(message, response, parse_mode='Markdown')
            else:
                bot.reply_to(message, 'âŒ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù…Ù„Ø©')
        except:
            bot.reply_to(message, 'âŒ Ø§Ø³ØªØ®Ø¯Ù…: /price BTC')

    @bot.message_handler(commands=['signal'])
    def get_trading_signal(message):
        try:
            symbol = message.text.split()[1].upper() + '-USDT'
            signals = okx_fetcher.get_trading_signals(symbol)

            if signals['signals']:
                response = f"ğŸ¯ **Ø¥Ø´Ø§Ø±Ø§Øª {symbol}:**\n"
                for signal in signals['signals']:
                    response += f"â€¢ {signal['type']}: {signal['reason']} (Ø«Ù‚Ø©: {signal['confidence']}%)\n"
            else:
                response = f"ğŸ“Š Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¥Ø´Ø§Ø±Ø§Øª Ù‚ÙˆÙŠØ© Ù„Ù€ {symbol} Ø­Ø§Ù„ÙŠØ§Ù‹"

            bot.reply_to(message, response, parse_mode='Markdown')
        except:
            bot.reply_to(message, 'âŒ Ø§Ø³ØªØ®Ø¯Ù…: /signal BTC')

    @bot.message_handler(commands=['market'])
    def get_market_overview(message):
        overview = okx_fetcher.get_market_overview()

        response = f"""
ğŸ“Š **Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø³ÙˆÙ‚**

ğŸ“ˆ ØµØ§Ø¹Ø¯: {overview['market_summary']['bullish']}
ğŸ“‰ Ù‡Ø§Ø¨Ø·: {overview['market_summary']['bearish']}
â¡ï¸ Ø¬Ø§Ù†Ø¨ÙŠ: {overview['market_summary']['neutral']}

ğŸ† **Ø£ÙØ¶Ù„ Ø§Ù„Ø¹Ù…Ù„Ø§Øª:**
"""
        for gainer in overview['top_gainers'][:3]:
            response += f"â€¢ {gainer['symbol']}: +{gainer['change_percent']:.2f}%\n"

        bot.reply_to(message, response, parse_mode='Markdown')
```

---

## ğŸ¯ ØªØ®ØµÙŠØµ Ø§Ù„Ø¹Ù…Ù„Ø§Øª

ÙÙŠ Ù…Ù„Ù `run_okx_data.py` Ø¹Ø¯Ù‘Ù„ Ù‚Ø§Ø¦Ù…Ø© `custom_symbols`:

```python
self.custom_symbols = [
    'BTC-USDT', 'ETH-USDT', 'BNB-USDT',
    # Ø£Ø¶Ù Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
    'PEPE-USDT', 'SHIB-USDT', 'FLOKI-USDT',
    'WIF-USDT', 'BONK-USDT'  # Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©
]
```

---

## ğŸ“Š Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø§Ù„ØªØ¯Ø§ÙˆÙ„

### Ù…Ø«Ø§Ù„: Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© RSI + Ø§Ù„Ø§ØªØ¬Ø§Ù‡

```python
def advanced_trading_strategy(okx_fetcher, symbol):
    """Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© ØªØ¯Ø§ÙˆÙ„ Ù…ØªÙ‚Ø¯Ù…Ø©"""

    # Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    price_data = okx_fetcher.get_cached_price(symbol)
    trend = okx_fetcher.analyze_trend(symbol)
    rsi = okx_fetcher.calculate_rsi(symbol)

    if not all([price_data, rsi]):
        return None

    signals = []

    # Ø¥Ø´Ø§Ø±Ø§Øª Ø§Ù„Ø´Ø±Ø§Ø¡
    if (rsi < 30 and trend['trend'] == 'ØµØ§Ø¹Ø¯' and
        trend['confidence'] > 60):
        signals.append({
            'action': 'Ø´Ø±Ø§Ø¡ Ù‚ÙˆÙŠ',
            'confidence': 85,
            'reason': 'RSI Ù…Ù†Ø®ÙØ¶ + Ø§ØªØ¬Ø§Ù‡ ØµØ§Ø¹Ø¯ Ù‚ÙˆÙŠ'
        })

    # Ø¥Ø´Ø§Ø±Ø§Øª Ø§Ù„Ø¨ÙŠØ¹
    elif (rsi > 70 and trend['trend'] == 'Ù‡Ø§Ø¨Ø·' and
          trend['confidence'] > 60):
        signals.append({
            'action': 'Ø¨ÙŠØ¹ Ù‚ÙˆÙŠ',
            'confidence': 85,
            'reason': 'RSI Ù…Ø±ØªÙØ¹ + Ø§ØªØ¬Ø§Ù‡ Ù‡Ø§Ø¨Ø· Ù‚ÙˆÙŠ'
        })

    # Ø¥Ø´Ø§Ø±Ø§Øª Ù…ØªÙˆØ³Ø·Ø©
    elif rsi < 35 and trend['trend'] != 'Ù‡Ø§Ø¨Ø·':
        signals.append({
            'action': 'Ø´Ø±Ø§Ø¡',
            'confidence': 65,
            'reason': 'RSI ÙÙŠ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø´Ø±Ø§Ø¡'
        })

    return signals
```

---

## ğŸ”§ Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© ÙˆØ§Ù„ØµÙŠØ§Ù†Ø©

### Ù…Ø¹ PM2

```bash
# Ø¨Ø¯Ø¡ Ø§Ù„ØªØ´ØºÙŠÙ„
pm2 start run_okx_data.py --name okx-collector --interpreter python3

# Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø£Ø¯Ø§Ø¡
pm2 monit

# Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¬Ù„Ø§Øª
pm2 logs okx-collector

# Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ´ØºÙŠÙ„
pm2 restart okx-collector

# Ø§Ù„Ø¥ÙŠÙ‚Ø§Ù
pm2 stop okx-collector
```

### ÙØ­Øµ Ø§Ù„Ù…Ù„ÙØ§Øª

```bash
# ÙØ­Øµ Ù…Ù„Ù Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
cat okx_data/current_prices.json | head -20

# ÙØ­Øµ Ø§Ù„Ø³Ø¬Ù„Ø§Øª
tail -f okx_data.log

# ÙØ­Øµ Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ù„ÙØ§Øª
ls -la okx_data/
```

---

## âš ï¸ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù…Ù‡Ù…Ø©

1. **Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª**: API OKX Ù„Ù‡ Ø­Ø¯ÙˆØ¯ØŒ Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØªØ¹Ø§Ù…Ù„ Ù…Ø¹Ù‡Ø§ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
2. **Ù…Ø³Ø§Ø­Ø© Ø§Ù„ØªØ®Ø²ÙŠÙ†**: Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠØ© ØªØ­ØªØ§Ø¬ ~1MB Ù„ÙƒÙ„ Ø¹Ù…Ù„Ø© Ø³Ù†ÙˆÙŠØ§Ù‹
3. **Ø§Ù„Ø§ØªØµØ§Ù„**: Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø© ØªØ­ØªØ§Ø¬ Ø§ØªØµØ§Ù„ Ø¥Ù†ØªØ±Ù†Øª Ù…Ø³ØªÙ‚Ø±
4. **Ø§Ù„Ø°Ø§ÙƒØ±Ø©**: Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ³ØªÙ‡Ù„Ùƒ Ø­ÙˆØ§Ù„ÙŠ 50-100MB Ù…Ù† Ø§Ù„Ø°Ø§ÙƒØ±Ø©

---

## ğŸ” Ø§Ø³ØªÙƒØ´Ø§Ù Ø§Ù„Ø£Ø®Ø·Ø§Ø¡

### Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ø§ØªØµØ§Ù„
```bash
# ÙØ­Øµ Ø§Ù„Ø§ØªØµØ§Ù„
ping www.okx.com

# ÙØ­Øµ Ø§Ù„Ø¨ÙˆØ±Øª
telnet ws.okx.com 8443
```

### Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
```bash
# ÙØ­Øµ Ù…Ù„Ù Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
python -c "import json; print(json.load(open('okx_data/current_prices.json')))"
```

### Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ø°Ø§ÙƒØ±Ø©
```bash
# ÙØ­Øµ Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø§Ù„Ø°Ø§ÙƒØ±Ø©
ps aux | grep python
htop -p $(pgrep -f okx_data)
```

---

## ğŸ“ˆ Ø§Ù„ØªØ·ÙˆÙŠØ±Ø§Øª Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ©

- [ ] Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…Ø¤Ø´Ø±Ø§Øª Ø§Ù„ÙÙ†ÙŠØ©
- [ ] Ø¯Ø¹Ù… ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Telegram ØªÙ„Ù‚Ø§Ø¦ÙŠØ©
- [ ] ÙˆØ§Ø¬Ù‡Ø© ÙˆÙŠØ¨ Ù„Ù„Ù…Ø±Ø§Ù‚Ø¨Ø©
- [ ] Ø¯Ø¹Ù… Ø§Ù„Ø¹Ù‚ÙˆØ¯ Ø§Ù„Ø¢Ø¬Ù„Ø©
- [ ] ØªØ­Ù„ÙŠÙ„ Ø£Ø¹Ù…Ø§Ù‚ Ø§Ù„Ø³ÙˆÙ‚
- [ ] Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ù„Ù„ØªÙ†Ø¨Ø¤

---

## ğŸ†˜ Ø§Ù„Ø¯Ø¹Ù…

Ø¥Ø°Ø§ ÙˆØ§Ø¬Ù‡Øª Ù…Ø´Ø§ÙƒÙ„:

1. **Ø´ØºÙ‘Ù„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±**: `python test_okx_data.py`
2. **Ø±Ø§Ø¬Ø¹ Ø§Ù„Ø³Ø¬Ù„Ø§Øª**: `tail -f okx_data.log`
3. **ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø§ØªØµØ§Ù„**: `ping www.okx.com`
4. **Ø£Ø¹Ø¯ Ø§Ù„ØªØ´ØºÙŠÙ„**: `pm2 restart okx-collector`

---

**ğŸš€ Ø¨Ø§Ù„ØªÙˆÙÙŠÙ‚ ÙÙŠ Ø§Ù„ØªØ¯Ø§ÙˆÙ„! ğŸš€**

_ØªÙ… ØªØ·ÙˆÙŠØ±Ù‡ Ø®ØµÙŠØµØ§Ù‹ Ù„Ù„Ø¨ÙˆØª Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…_ ğŸ‡¸ğŸ‡¦

ğŸ‰ ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø¸Ø§Ù… OKX Data Collector Ø¨Ù€ Python!
Ù„Ù‚Ø¯ Ø£Ù†Ø´Ø£Øª Ù„Ùƒ Ù†Ø¸Ø§Ù… Ù…ØªÙƒØ§Ù…Ù„ ÙˆÙ…ØªØ®ØµØµ Ù„Ù…Ø´Ø±ÙˆØ¹ Python Ø§Ù„Ø­Ø§Ù„ÙŠ. Ø¥Ù„ÙŠÙƒ Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ«Ø¨ÙŠØª:
ğŸš€ Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªÙ†ÙÙŠØ° Ø§Ù„Ø³Ø±ÙŠØ¹:
bash# 1. Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ù„ÙØ§Øª (Ø£Ù†Øª ÙÙŠ Ù…Ø¬Ù„Ø¯ THE-BEST-BOT)
nano okx_data.py          # Ø§Ù†Ø³Ø® Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø£ÙˆÙ„
nano run_okx_data.py      # Ø§Ù†Ø³Ø® Ù…Ø­ØªÙˆÙ‰ Ù…Ù„Ù Ø§Ù„ØªØ´ØºÙŠÙ„
nano test_okx_data.py     # Ø§Ù†Ø³Ø® Ù…Ø­ØªÙˆÙ‰ Ù…Ù„Ù Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
nano okx_requirements.txt # Ø§Ù†Ø³Ø® Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©

# 2. ØªØ«Ø¨ÙŠØª Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
pip install requests websockets pandas python-dateutil ujson numpy

# 3. ØªØ´ØºÙŠÙ„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø£ÙˆÙ„Ø§Ù‹
python test_okx_data.py

# 4. Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¹Ø§Ø¯ÙŠ
python run_okx_data.py

# 5. Ø§Ù„ØªØ´ØºÙŠÙ„ ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ© Ù…Ø¹ PM2
pm2 start run_okx_data.py --name okx-collector --interpreter python3
ğŸ“Š Ù„Ø¥Ø¯Ù…Ø§Ø¬ Ø§Ù„Ù†Ø¸Ø§Ù… Ù…Ø¹ Ø§Ù„Ø¨ÙˆØª Ø§Ù„Ø­Ø§Ù„ÙŠ:
ÙÙŠ Ù…Ù„Ù main_bot.py Ø£Ùˆ telegram_bot.py Ø£Ø¶Ù:
pythonfrom okx_data import OKXDataFetcher

# ÙÙŠ Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„ÙƒÙ„Ø§Ø³
self.okx_fetcher = OKXDataFetcher()

# Ø¨Ø¯Ø¡ Ø¬Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
self.okx_fetcher.start_full_data_collection([
    'BTC-USDT', 'ETH-USDT', 'BNB-USDT', 'XRP-USDT'
])

# Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ©
def get_trading_decision(self, symbol):
    price = self.okx_fetcher.get_cached_price(symbol)
    signals = self.okx_fetcher.get_trading_signals(symbol)

    if signals['signals']:
        for signal in signals['signals']:
            if signal['confidence'] > 70:
                return f"Ø¥Ø´Ø§Ø±Ø© {signal['type']}: {signal['reason']}"

    return "Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¥Ø´Ø§Ø±Ø§Øª Ù‚ÙˆÙŠØ©"
âœ¨ Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø¬Ø§Ù‡Ø²Ø©:

ğŸ”¥ Ø£Ø³Ø¹Ø§Ø± Ù„Ø­Ø¸ÙŠØ© Ø¯Ù‚ÙŠÙ‚Ø© - Ù„Ø§ Ø£Ø³Ø¹Ø§Ø± Ù‚Ø¯ÙŠÙ…Ø© Ø¨Ø¹Ø¯ Ø§Ù„ÙŠÙˆÙ…
ğŸ“Š Ø¨ÙŠØ§Ù†Ø§Øª ØªØ§Ø±ÙŠØ®ÙŠØ© Ø³Ù†Ø© ÙƒØ§Ù…Ù„Ø© - Ù„Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
ğŸ¯ Ø¥Ø´Ø§Ø±Ø§Øª ØªØ¯Ø§ÙˆÙ„ Ø°ÙƒÙŠØ© - RSI + ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø§ØªØ¬Ø§Ù‡
ğŸ’¾ Ø­ÙØ¸ ØªÙ„Ù‚Ø§Ø¦ÙŠ - ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­ÙÙˆØ¸Ø©
ğŸ“± ÙˆØ§Ø¬Ù‡Ø© Ø¬Ù…ÙŠÙ„Ø© - Ø¹Ø±Ø¶ Ù…Ø¨Ø§Ø´Ø± ÙƒÙ„ 30 Ø«Ø§Ù†ÙŠØ©
ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© Ø§ØªØµØ§Ù„ ØªÙ„Ù‚Ø§Ø¦ÙŠØ© - Ù„Ø§ Ø§Ù†Ù‚Ø·Ø§Ø¹ ÙÙŠ Ø§Ù„Ø®Ø¯Ù…Ø©

ğŸ“ Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ù„ÙØ§Øª Ø¨Ø¹Ø¯ Ø§Ù„ØªØ«Ø¨ÙŠØª:
THE-BEST-BOT/
â”œâ”€â”€ main_bot.py           # Ø§Ù„Ø¨ÙˆØª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ (Ù…ÙˆØ¬ÙˆØ¯)
â”œâ”€â”€ telegram_bot.py       # Ø¨ÙˆØª Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù… (Ù…ÙˆØ¬ÙˆØ¯)
â”œâ”€â”€ okx_data.py          # Ø¬Ø§Ù…Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª OKX (Ø¬Ø¯ÙŠØ¯) â­
â”œâ”€â”€ run_okx_data.py      # Ù…Ø´ØºÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Ø¬Ø¯ÙŠØ¯) â­
â”œâ”€â”€ test_okx_data.py     # Ù…Ù„Ù Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± (Ø¬Ø¯ÙŠØ¯) â­
â”œâ”€â”€ okx_data/            # Ù…Ø¬Ù„Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (ÙŠÙ†Ø´Ø£ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹)
â”‚   â”œâ”€â”€ current_prices.json
â”‚   â””â”€â”€ BTC-USDT_historical.json
â””â”€â”€ okx_data.log         # Ø³Ø¬Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
ğŸ¯ Ø£Ù…Ø«Ù„Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¹Ù…Ù„ÙŠ:
python# ÙÙŠ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ù„ØªØ¯Ø§ÙˆÙ„
def should_buy_btc(self):
    analysis = self.okx_fetcher.analyze_trend('BTC-USDT')
    rsi = self.okx_fetcher.calculate_rsi('BTC-USDT')

    if rsi < 30 and analysis['trend'] == 'ØµØ§Ø¹Ø¯':
        return True, "ÙØ±ØµØ© Ø´Ø±Ø§Ø¡ Ù…Ù…ØªØ§Ø²Ø© - RSI Ù…Ù†Ø®ÙØ¶ ÙˆØ§ØªØ¬Ø§Ù‡ ØµØ§Ø¹Ø¯"

    return False, "Ø§Ù†ØªØ¸Ø§Ø± ÙØ±ØµØ© Ø£ÙØ¶Ù„"

# ÙÙŠ Ø¨ÙˆØª Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…
@bot.message_handler(commands=['btc'])
def btc_analysis(message):
    price = okx_fetcher.get_cached_price('BTC-USDT')
    signals = okx_fetcher.get_trading_signals('BTC-USDT')

    response = f"ğŸª™ BTC: ${price['price']:.2f}\n"
    for signal in signals['signals']:
        response += f"ğŸ¯ {signal['type']}: {signal['reason']}\n"

    bot.send_message(message.chat.id, response)
Ø¬Ø±Ø¨ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø¢Ù† ÙˆØ£Ø®Ø¨Ø±Ù†ÙŠ Ø¥Ø°Ø§ Ø§Ø­ØªØ¬Øª Ø£ÙŠ ØªØ¹Ø¯ÙŠÙ„Ø§Øª Ø£Ùˆ Ù…Ø³Ø§Ø¹Ø¯Ø© Ø¥Ø¶Ø§ÙÙŠØ©!
Ù‡Ø°Ø§ Ø§Ù„Ù†Ø¸Ø§Ù… Ø³ÙŠØ­Ù„ Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© ØªÙ…Ø§Ù…Ø§Ù‹ ÙˆÙŠØ¹Ø·ÙŠÙƒ Ø¨ÙŠØ§Ù†Ø§Øª Ø¯Ù‚ÙŠÙ‚Ø© ÙˆØ­ÙŠØ© ğŸ¯

Ø§Ù‡Ù… Ø´ÙŠ Ø§Ø®ØªØ¨Ø± Ø§Ù† ÙƒÙ„ Ø´ÙŠ Ø´ØºØ§Ù„ Ù‚Ø¨Ù„ Ù…Ø§ ØªØ³Ù…Ù„Ù†ÙŠ Ø·Ù„Ø¨ Ø§Ù„Ø³Ø­Ø¨ ÙˆÙ‚Ø³Ù… Ø§Ù„ØªØºÙŠØ± Ø¨Ù…Ø±Ø§Ø­Ù„ Ø¹Ø´Ø§Ù† Ø§Ù„Ø¬ÙˆØ¯Ø© ØªÙƒÙˆÙ† ÙƒÙˆÙŠØ³Ù‡ ÙˆÙ…Ù…ØªØ§Ø²Ø© ÙˆØ§Ù†ØªØ¨Ù‡ ØªØºÙŠØ± Ø´ÙŠ Ø§Ùˆ ØªÙ„Ù…Ø³ Ø´ÙŠ Ù…Ø§Ù„Ù‡ Ø¯Ø®Ù„ Ø¨Ø§Ù„Ù…Ù„ÙØ§Øª Ø°ÙŠ Ø§Ø¨Ø¯Ø§ Ø§Ù„Ø§Ù†
